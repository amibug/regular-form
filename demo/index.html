<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>RegularForm Demo</title>
    <link rel="stylesheet" href="http://getbootstrap.com/dist/css/bootstrap.min.css"/>
    <style>
        .form-group-error{
            margin-bottom: 0;
        }
        .form-group-error p{color:#a94442; margin-bottom: 0;}
    </style>
</head>
<body>
<textarea id="template" style="display: none;">
    <form class="form-horizontal">
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" name="checkbox" r-model={required}/> ID required:
                    </label>
                </div>
            </div>
        </div>
        <div class="form-group form-group-error">
            <div class="col-sm-offset-2 col-sm-10">
                <p r-hide={!form.$$checkbox.$error.required}>checkbox--ID required是必勾选的</p>
            </div>
        </div>
        <div class="form-group">
            <label  class="col-sm-2 control-label">max</label>
            <div class="col-sm-10">
                <input type="text" r-model={max} class="form-control"/>
            </div>
        </div>
        <div class="form-group">
            <label  class="col-sm-2 control-label">id</label>
            <div class="col-sm-10">
                <input class="form-control" name="id" type="text" {#if required}r-required="required"{/if} type="number" r-model={value} r-max={max} r-pattern={pattern} r-extend={extend}/>
            </div>
        </div>
        <div class="form-group form-group-error">
            <div class="col-sm-offset-2 col-sm-10">
                <p r-hide={!form.$$id.$error.required}>id是必填的</p>
                <p r-hide={!form.$$id.$error.type}>id必须为数字</p>
                <p r-hide={!form.$$id.$error.max}>id最大值为{max}</p>
                <p r-hide={!form.$$id.$error.pattern}>id的pattern的规则是3位数字</p>
                <p r-hide={!form.$$id.$error.extend}>id的extend的规则是>500</p>
            </div>
        </div>
        <div class="form-group form-group-error">
            <div class="col-sm-offset-2 col-sm-10">
                <label class="radio-inline">
                    <input type="radio" name="contact" r-required="required" r-model={contact} value="0"/> 邮箱
                </label>
                <label class="radio-inline">
                    <input type="radio" name="contact" r-model={contact} value="1"/> 手机
                </label>
            </div>
        </div>
        <div class="form-group form-group-error">
            <div class="col-sm-offset-2 col-sm-10">
                <p r-hide={!form.$$contact.$error.required}>邮箱，手机是必选一个的</p>
            </div>
        </div>

        {#if contact == "0"}
        <div class="form-group">
            <label  class="col-sm-2 control-label">email</label>
            <div class="col-sm-10">
                <input class="form-control" name="email" type="email" r-required="required" r-type="email" r-model={email}  r-extend={extend2}/>
            </div>
        </div>
        <div class="form-group form-group-error">
            <div class="col-sm-offset-2 col-sm-10">
                <p r-hide={!form.$$email.$error.required}>email是必填的</p>
                <p r-hide={!form.$$email.$error.type}>email的格式有问题</p>
                <p r-hide={!form.$$email.$error.extend}>email的extend的规则是输入hello@163.com表示通过</p>
            </div>
        </div>
        {/if}
        {#if contact == "1"}
        <div class="form-group">
            <label  class="col-sm-2 control-label">phone</label>
            <div class="col-sm-10">
                <input class="form-control" name="phone" type="text" r-required="required" r-type="number" r-model={phone}/>
            </div>
        </div>
        <div class="form-group form-group-error">
            <div class="col-sm-offset-2 col-sm-10">
                <p r-hide={!form.$$phone.$error.required}>phone是必填的</p>
                <p r-hide={!form.$$phone.$error.type}>phone的格式有问题</p>
            </div>
        </div>
        {/if}
        <div class="form-group form-group-error">
            <div class="col-sm-offset-2 col-sm-10">
                <button type="submit" class="btn btn-primary" {#if $invalid}disabled="disabled"{/if}>提交</button>
                <p r-hide={!$invalid}>整个表单中有验证失败的表单项</p>
                <p r-hide={!$dirty}>表单被改动</p>
            </div>
        </div>


    </form>
</textarea>
<div class="container" style="padding: 30px 50px;">
<section id="form-box" class="row" ></section>
</div>
<script src="../node_modules/regularjs/dist/regular.js"></script>
<script src="../dist/regular-form.js"></script>
<script src="demo.js"></script>
</body>
</html>